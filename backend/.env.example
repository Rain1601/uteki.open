# uteki.open Backend Configuration
# 复制此文件为 .env 并填入实际配置

# ============================================================================
# 部署模式选择
# ============================================================================
#
# 本项目支持三种部署模式：
#
# 1. 全Docker模式（推荐）- 一键启动
#    - 运行: ./scripts/quickstart.sh
#    - 所有服务运行在Docker容器中
#    - 配置: 使用下面的默认localhost配置即可
#
# 2. 混合模式 - 本地PostgreSQL + Redis
#    - 运行: ./scripts/quickstart-local.sh
#    - 使用Homebrew安装本地服务
#    - 配置: 使用下面的默认localhost配置即可
#
# 3. 自定义模式 - 灵活组合
#    - 可以任意组合Docker和本地服务
#    - 配置: 根据实际服务地址修改下面的配置
#
# 详细说明: 查看 DEPLOYMENT_MODES.md
#
# ============================================================================
# Application Settings
# ============================================================================

# 环境模式 (development, production)
ENVIRONMENT=development

# 调试模式
DEBUG=True

# 日志级别 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO


# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL (必需)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=uteki
POSTGRES_PASSWORD=uteki_dev_pass
POSTGRES_DB=uteki

# Redis (必需)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ClickHouse (可选，用于时序数据分析)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Qdrant (可选，用于向量存储和语义搜索)
QDRANT_HOST=localhost
QDRANT_PORT=6333

# MinIO (可选，用于对象存储)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=uteki
MINIO_SECRET_KEY=uteki_dev_pass
MINIO_SECURE=False


# ============================================================================
# Security Settings
# ============================================================================

# 加密密钥 (用于API密钥加密)
# 留空则自动生成临时密钥（仅用于开发环境）
# 生产环境必须设置！生成方式：
#   python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# JWT密钥 (预留，用于用户认证)
JWT_SECRET_KEY=your-secret-key-here-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=43200


# ============================================================================
# LLM API Keys (可选)
# ============================================================================

# OpenAI
OPENAI_API_KEY=
OPENAI_ORG_ID=

# Anthropic (Claude)
ANTHROPIC_API_KEY=

# DashScope (Qwen)
DASHSCOPE_API_KEY=

# DeepSeek
DEEPSEEK_API_KEY=

# Apify (Bloomberg news scraping)
APIFY_API_TOKEN=


# ============================================================================
# Exchange API Keys (可选)
# ============================================================================

# OKX
OKX_API_KEY=
OKX_SECRET_KEY=
OKX_PASSPHRASE=

# Binance
BINANCE_API_KEY=
BINANCE_SECRET_KEY=

# 雪盈证券 SNB (仅本地部署使用，远端不配置以确保安全)
# 申请: https://www.snbsecurities.com/
SNB_ACCOUNT=
SNB_API_KEY=
SNB_ENV=prod
# TOTP 二次验证密钥 (通过 POST /api/snb/totp/setup 生成)
SNB_TOTP_SECRET=


# ============================================================================
# Data Provider API Keys (可选)
# ============================================================================

# Financial Modeling Prep
FMP_API_KEY=

# Alpha Vantage
ALPHA_VANTAGE_API_KEY=

# CoinGecko
COINGECKO_API_KEY=


# ============================================================================
# Application Configuration
# ============================================================================

# API配置
API_HOST=0.0.0.0
API_PORT=8888

# CORS允许的域名（前端默认使用5173）
CORS_ORIGINS=http://localhost:5173,http://localhost:5174

# 分页默认值
DEFAULT_PAGE_SIZE=100
MAX_PAGE_SIZE=1000


# ============================================================================
# Feature Flags (功能开关)
# ============================================================================

# 启用Agent功能
ENABLE_AGENT=True

# 启用交易功能
ENABLE_TRADING=False

# 启用数据采集
ENABLE_DATA_COLLECTION=False

# 启用审计日志
ENABLE_AUDIT_LOG=True


# ============================================================================
# Development Settings (仅开发环境)
# ============================================================================

# SQLAlchemy回显SQL语句
SQLALCHEMY_ECHO=False

# 启用热重载
RELOAD=True

# 启用性能分析
ENABLE_PROFILING=False
